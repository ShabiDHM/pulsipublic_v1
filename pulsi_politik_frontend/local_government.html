<!DOCTYPE html>
<html lang="en">
<head>
    <!-- START: Document Head Section -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="pageTitleLocalGovernment">Local Government - Kosovo Civic Monitor</title> <!-- UPDATED KEY AND TEXT -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <!-- Local Leaflet CSS -->
    <link rel="stylesheet" href="/static/leaflet/leaflet.css"/>
    <link rel="stylesheet" href="style.css"> <!-- Your main stylesheet -->
    <style>
        /* Custom style for the map container */
        #kosovoMap {
            height: 500px; /* Default height */
            width: 100%;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); /* shadow-md */
            border: 1px solid #e5e7eb; /* Optional: border-gray-200 */
        }
        .leaflet-popup-content-wrapper { border-radius: 0.375rem; }
        .leaflet-tooltip-content { /* For hover tooltips */
            padding: 8px 12px;
            font-size: 13px;
            line-height: 1.5;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        .leaflet-tooltip-content strong {
            color: #333;
        }
        .leaflet-tooltip-content ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 2px;
            margin-bottom: 0;
        }
         .leaflet-tooltip-content li {
            font-size: 0.9em;
            color: #555;
        }
    </style>
    <!-- END: Document Head Section -->
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">
    <!-- START: Header Navigation (Same as other pages) -->
    <header class="bg-gray-800 text-white shadow-lg px-4 py-3 flex items-center justify-between">
        <div class="flex items-center space-x-4">
            <div class="flex items-center">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                    <div class="text-green-500 text-xl"><i class="fas fa-heartbeat"></i></div>
                </div>
                <div class="ml-3">
                    <h1 data-i18n-key="headerTitle" class="text-xl font-bold">Public Pulse</h1>
                    <p data-i18n-key="headerSubtitle" class="text-sm text-gray-300">Kosovo Civic Monitor</p>
                </div>
            </div>
        </div>
        <div class="flex items-center space-x-3">
            <div class="relative">
                <button id="languageSelector" class="bg-gray-700 hover:bg-gray-600 rounded px-3 py-1 flex items-center">
                    <span class="mr-1">EN</span><i class="fas fa-chevron-down text-xs"></i>
                </button>
                <div id="languageDropdown" class="absolute right-0 mt-1 bg-white text-gray-800 rounded shadow-lg hidden z-20">
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200" data-lang="en" data-i18n-key="languageEN">English (EN)</a>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200" data-lang="sq" data-i18n-key="languageSQ">Albanian (SQ)</a>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200" data-lang="sr" data-i18n-key="languageSR">Serbian (SR)</a>
                </div>
            </div>
            <div class="relative">
                <button id="userMenu" class="bg-blue-600 hover:bg-blue-700 rounded-full w-8 h-8 flex items-center justify-center">
                    <i class="fas fa-user"></i>
                </button>
                <div id="userDropdown" class="absolute right-0 mt-1 bg-white text-gray-800 rounded shadow-lg hidden w-48 z-20">
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200"><i class="fas fa-user-circle mr-2"></i><span data-i18n-key="userMenuProfile">Profile</span></a>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200"><i class="fas fa-cog mr-2"></i><span data-i18n-key="userMenuSettings">Settings</span></a>
                    <div class="border-t border-gray-200"></div>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-200 text-red-600"><i class="fas fa-sign-out-alt mr-2"></i><span data-i18n-key="userMenuSignOut">Sign out</span></a>
                </div>
            </div>
        </div>
    </header>
    <!-- END: Header Navigation -->

<div class="flex flex-1">
    <!-- START: Sidebar Navigation (Corrected and Consistent) -->
    <aside id="sidebar" class="bg-white shadow-md w-64 transition-all duration-300 hidden md:block">
        <nav class="py-4 h-full flex flex-col">
            <div class="px-4 pb-4 mb-4 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <p data-i18n-key="sidebarMainNavigation" class="text-sm text-gray-500">MAIN NAVIGATION</p>
                    <button id="toggleSidebar" class="md:hidden text-gray-400 hover:text-gray-600"><i class="fas fa-times"></i></button>
                </div>
            </div>
            <div class="flex-grow overflow-y-auto">
                <a href="index.html" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100">
                    <div class="w-6 text-center"><i class="fas fa-tachometer-alt"></i></div><span data-i18n-key="sidebarDashboard" class="ml-3">Dashboard</span>
                </a>
                <a href="documents.html" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100">
                    <div class="w-6 text-center"><i class="fas fa-file-alt"></i></div><span data-i18n-key="sidebarDocuments" class="ml-3">Documents</span>
                </a>
                <a href="events.html" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100">
                    <div class="w-6 text-center"><i class="fas fa-calendar-alt"></i></div><span data-i18n-key="sidebarEvents" class="ml-3">Events</span>
                </a>
                <div class="sidebar-section-heading"><p data-i18n-key="sidebarAnalytics" class="font-medium">ANALITIKA</p></div>
                <a href="local_government.html" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100"> <!-- UPDATED HREF -->
                    <div class="w-6 text-center"><i class="fas fa-university"></i></div> <!-- UPDATED ICON -->
                    <span data-i18n-key="sidebarLocalGovernment" class="ml-3">Local Government</span> <!-- UPDATED KEY & TEXT -->
                </a>
                <a href="export_data.html" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100">
                    <div class="w-6 text-center"><i class="fas fa-download"></i></div><span data-i18n-key="sidebarExportData" class="ml-3">Export Data</span>
                </a>
            </div>
        </nav>
    </aside>
    <!-- END: Sidebar Navigation -->

    <!-- START: Mobile Sidebar Toggle Button -->
    <button id="mobileSidebarToggle" class="md:hidden fixed top-4 left-4 bg-gray-800 text-white rounded-md w-10 h-10 flex items-center justify-center shadow-lg z-40">
        <i class="fas fa-bars"></i>
    </button>
    <!-- END: Mobile Sidebar Toggle Button -->

    <!-- START: Main Content Area (local_government.html - Designed with Map) -->
    <main class="flex-1 overflow-x-hidden">
        <!-- START: Breadcrumb Navigation -->
        <div class="bg-white px-6 py-3 flex items-center text-sm border-b border-gray-200">
            <a href="index.html" class="text-gray-600 hover:text-blue-600" aria-label="Home"><i class="fas fa-home"></i></a>
            <span class="mx-2 text-gray-400">/</span>
            <span data-i18n-key="breadcrumbLocalGovernment" class="text-gray-800 font-medium">Local Government</span> <!-- UPDATED KEY -->
        </div>
        <!-- END: Breadcrumb Navigation -->

        <div class="px-6 py-5">
            <!-- START: Page Header -->
            <div class="mb-8">
                <h2 data-i18n-key="pageTitleLocalGovernment" class="text-3xl font-bold text-gray-800">Local Government Performance</h2> <!-- UPDATED KEY -->
                <p data-i18n-key="pageSubtitleLocalGovernment" class="text-gray-600 mt-1">Visualize transparency and performance metrics across Kosovo's municipalities.</p> <!-- UPDATED KEY -->
            </div>
            <!-- END: Page Header -->

            <!-- START: Map and Legend Section -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                <!-- Map Container -->
                <div class="lg:col-span-2 bg-white p-2 rounded-lg shadow-lg">
                    <div id="kosovoMap">
                        <!-- Leaflet map will be initialized here by JavaScript -->
                    </div>
                </div>

                <!-- Legend and Info Panel -->
                <div class="lg:col-span-1 bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4" data-i18n-key="mapLegendTitle">Map Legend & Info</h3>
                    <div class="space-y-3 mb-6">
                        <div>
                            <span class="inline-block w-4 h-4 bg-green-500 rounded-full mr-2 align-middle border-2 border-white shadow"></span>
                            <span class="text-sm text-gray-700" data-i18n-key="mapLegendHighPerf">High Performance</span>
                        </div>
                        <div>
                            <span class="inline-block w-4 h-4 bg-yellow-400 rounded-full mr-2 align-middle border-2 border-white shadow"></span>
                            <span class="text-sm text-gray-700" data-i18n-key="mapLegendMedPerf">Medium Performance</span>
                        </div>
                        <div>
                            <span class="inline-block w-4 h-4 bg-red-500 rounded-full mr-2 align-middle border-2 border-white shadow"></span>
                            <span class="text-sm text-gray-700" data-i18n-key="mapLegendLowPerf">Low Performance</span>
                        </div>
                         <div>
                            <span class="inline-block w-4 h-4 bg-blue-500 rounded-full mr-2 align-middle border-2 border-white shadow"></span>
                            <span class="text-sm text-gray-700" data-i18n-key="mapLegendDefault">Default / No Data</span>
                        </div>
                    </div>

                    <h4 class="text-lg font-semibold text-gray-700 mb-2" data-i18n-key="mapSelectedMunicipality">Selected Municipality:</h4>
                    <div id="municipalityInfoPanel" class="bg-gray-50 p-4 rounded-md min-h-[150px] border border-gray-200">
                        <p class="text-gray-500 text-sm italic" data-i18n-key="mapClickPrompt">Click on a marker to see details.</p>
                        <!-- Details will be populated here by JavaScript -->
                    </div>
                </div>
            </div>
            <!-- END: Map and Legend Section -->

             <!-- START: Placeholder for Data Table/Further Details (Optional) -->
             <div class="mt-10 bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold text-gray-800 mb-4" data-i18n-key="mapDataTableTitle">Regional Data Overview</h3>
                <p class="text-gray-600" data-i18n-key="mapDataTableDesc">A table summarizing key indicators for all municipalities could be displayed here. For now, this is a placeholder.</p>
            </div>
            <!-- END: Placeholder for Data Table/Further Details -->
        </div>
    </main>
    <!-- END: Main Content Area -->
</div>

<!-- START: Notification Banner (Same as other pages) -->
<div id="notificationBanner" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-md shadow-lg flex items-center hidden z-50">
    <i class="fas fa-check-circle mr-2"></i>
    <span id="notificationMessage">Action completed successfully!</span>
</div>
<!-- END: Notification Banner -->

<!-- START: Footer Section (Logo removed and grid adjusted) -->
<footer class="site-footer bg-gray-800 text-gray-300 py-10 px-4 sm:px-6 lg:px-8 mt-auto">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-[2fr_1.5fr_1fr] gap-8 items-start">
        <div class="footer-section">
            <h4 data-i18n-key="footerAboutTitleNew" class="text-lg font-semibold text-white mb-4">Rreth Pulsit Publik</h4>
            <p data-i18n-key="footerAboutTextNew" class="text-sm leading-relaxed">Si një mbikëqyrës i pavarur dhe jo-partiak, Public Pulse është i përkushtuar për forcimin e llogaridhënies demokratike në mbarë Kosovën. Ne analizojmë me përpikëri transparencën dhe efektivitetin e ofrimit të shërbimeve publike, duke u ofruar qytetarëve njohuri të qarta, të bazuara në dëshmi, thelbësore për të kërkuar llogari nga pushteti. Që Kosova të përparojë, çdo qytetar duhet të ketë mjetet për t'u angazhuar, për të pyetur dhe për të nxitur progresin.</p>
        </div>
        <div class="footer-section">
            <h4 data-i18n-key="footerContactInfoTitle" class="text-lg font-semibold text-white mb-4">Informacion Kontakti</h4>
            <address class="not-italic text-sm space-y-3">
                <p class="flex items-center"><i class="fas fa-envelope mr-3 text-blue-400 fa-fw"></i><a href="mailto:shabanbala@gmail.com" class="hover:text-blue-400 transition-colors">shabanbala@gmail.com</a></p>
                <p class="flex items-center"><i class="fas fa-phone mr-3 text-blue-400 fa-fw"></i><a href="tel:+38344987898" class="hover:text-blue-400 transition-colors">+383 44987898</a></p>
                <p class="flex items-start"><i class="fas fa-map-marker-alt mr-3 text-blue-400 fa-fw mt-1"></i><span>Data And Human Management<br>Prishtina, Kosovo</span></p>
            </address>
        </div>
        <div class="footer-section">
            <h4 data-i18n-key="footerFollowUsTitle" class="text-lg font-semibold text-white mb-4">Na Ndiqni</h4>
            <div class="flex space-x-4">
                <a href="#" aria-label="Facebook" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-facebook-f fa-lg"></i></a>
                <a href="#" aria-label="Twitter" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-twitter fa-lg"></i></a>
                <a href="#" aria-label="LinkedIn" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-linkedin-in fa-lg"></i></a>
                <a href="#" aria-label="Instagram" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-instagram fa-lg"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-bottom mt-8 pt-8 border-t border-gray-700 text-center">
        <p class="text-sm">© <span id="currentYear"></span> <span data-i18n-key="footerCopyrightNew">Pulsi Publik Kosovë. Të gjitha të drejtat e rezervuara.</span></p>
    </div>
</footer>
<!-- END: Footer Section -->

<!-- START: JavaScript Libraries -->
<!-- Local Leaflet JS -->
<script src="/static/leaflet/leaflet.js"></script>
<!-- Chart.js and Datalabels are likely not needed for this specific page unless you add charts -->
<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script> -->
<!-- END: JavaScript Libraries -->

<!-- START: Custom Scripts -->
<script src="main_script.js" defer></script>
<!-- END: Custom Scripts -->
</body>
</html>